{% load ui_tags %}
{% load link_tags %}
<!DOCTYPE html>
<html>

<head>
  <title>Create Bank Account</title>
  {% imports %}
</head>

<body>
  {% header user=user.username %}

  <div class="flex pt-20">
    <!-- Sidebar -->
    {% sidebar_template url="/dashboard/account-setup" request=request %}
    <!-- Content -->
    <div class="w-4/5 ml-auto p-8">
      <h1 class="text-2xl font-bold">Create a new bank account</h1>
      <p class="text-gray-400 mt-3 mb-6">Please enter the details down below</p>

      <form method="post">
        {% csrf_token %}
        <div class="flex">
          <div class="flex-1">
            {{form.name.label_tag}}
            {{form.name}}

            {{form.account_no.label_tag}}
            {{form.account_no}}

            {{form.type.label_tag}}
            {{form.type}}

            <div class="flex flex-row items-center">
              <div class="mr-3">
                {{form.bizapp}}
              </div>
              Please check if Bizapp
            </div>
          </div>
          <div class="flex-1 pl-5">
            <!-- <h3 class="mb-5">Select Address:</h3>
            {% for address in addresses %}
            <div class="text-left p-3 border border-black bg-gray-100">
              <p>{{address.line_one}}</p>
              <p>{{address.line_two}}</p>
              <p>{{address.postcode}}, {{address.city}}, {{address.state}}</p>
              <p>{{address.GPS_location}}</p>
              <p>{{address.office_tel_no}}</p>
            </div>
            {% endfor %} -->

            <!-- <h3 class="mb-3">Create new address: </h3> -->
            {{ form.line_one.label_tag }}
            {{ form.line_one }}

            {{ form.line_two.label_tag }}
            {{ form.line_two }}

            <div class="w-1/2 pr-2">
              {{ form.postcode.label_tag }}
              {{ form.postcode }}
            </div>

            <div style="display: flex; justify-content: space-between;">
              <div style="flex: 1;" class="pr-2">
                {{ form.city.label_tag }}
                {{ form.city }}
              </div>
              <div style="flex: 1;">
                {{ form.state.label_tag }}
                {{ form.state }}
              </div>
            </div>


            {{ form.gps_location.label_tag }}
            {{ form.gps_location }}

            {{ form.office_tel_no.label_tag }}
            {{ form.office_tel_no }}
          </div>
        </div>
        {% if form.errors %}
        <div class="text-red-500">
          <ul>
            {% for field, errors in form.errors.items %}
            {% for error in errors %}
            <li>{{ error }}</li>
            {% endfor %}
            {% endfor %}
          </ul>
        </div>
        {% endif %}
        <div class="flex justify-end mt-5">
          <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded-md mr-2">Create</button>
          <!-- <a class="bg-blue-500 text-white px-4 py-2 rounded-md mr-2" href="/dashboard/account-setup">Create</a> -->
        </div>
      </form>

    </div>
  </div>


  <script>
    const buttons = document.querySelectorAll('button');
    buttons.forEach(button => {
      button.addEventListener('click', () => {
        const content = button.nextElementSibling;
        content.classList.toggle('hidden');
        const icon = button.querySelector('svg');
        icon.classList.toggle('rotate-0');
      });
    });
  </script>
</body>

</html>